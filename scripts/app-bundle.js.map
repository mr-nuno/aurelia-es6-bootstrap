{"version":3,"sources":["app.js","environment.js","main.js","components/drawing-pad.js","core/food-service.js","pages/dashboard.js","pages/food-details.js","pages/food-list.js","resources/index.js","/Users/peter/git/aurelia-es6-bootstrap/src/app.html","/Users/peter/git/aurelia-es6-bootstrap/src/components/drawing-pad.html","styles/styles.scss","/Users/peter/git/aurelia-es6-bootstrap/src/pages/dashboard.html","/Users/peter/git/aurelia-es6-bootstrap/src/pages/food-details.html","/Users/peter/git/aurelia-es6-bootstrap/src/pages/food-list.html"],"names":["App","inject","config","router","eventAggregator","subscribe","success","payload","session","isLoggedIn","configureRouter","map","route","moduleId","title","name","debug","testing","configure","Promise","warnings","wForgottenReturn","aurelia","use","standardConfiguration","feature","developmentLogging","plugin","start","then","setRoot","DrawingPad","attached","pad","SignaturePad","canvas","onEnd","drawDone","clear","publish","toDataURL","FoodService","fetchAll","self","get","document","data","fetchOne","id","Dashboard","left","right","datepicker","image","login","username","password","FoodDetails","foodService","activate","params","routeConfig","drawChart","labels","series","food","Carbs","Fat","Fibre","Protein","Kcal","Chartist","Bar","FoodList","foods","list"],"mappings":"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","file":"app-bundle.js","sourcesContent":["import {Router, RouterConfiguration} from 'aurelia-router';\nimport {EventAggregator} from 'aurelia-event-aggregator';\nimport toastr from 'toastr';\n\nexport class App {\n  \n  static inject() { return [RouterConfiguration, Router, EventAggregator] };\n\n  constructor(config, router, eventAggregator){\n    this.eventAggregator = eventAggregator;\n  }\n\n  subscribe() {\n    this.eventAggregator.subscribe('login', payload => {\n      toastr.success(\"logging in \" + payload);\n      this.session.isLoggedIn = true;\n    });\n  }\n\n  configureRouter(config, router){\n    config.map([\n      { route: '',              moduleId: './pages/food-list',   title: 'Lista'},\n      { route: 'details/:id',              moduleId: './pages/food-details',   title: 'Detaljer', name: 'details'}\n    ]);\n\n    this.router = router;\n    this.subscribe();\n  }\n}","export default {\n  debug: true,\n  testing: true\n};\n","import environment from './environment';\nimport {EventAggregator} from 'aurelia-event-aggregator';\n\n//Configure Bluebird Promises.\n//Note: You may want to use environment-specific configuration.\nPromise.config({\n  warnings: {\n    wForgottenReturn: false\n  }\n});\n\nexport function configure(aurelia) {\n  aurelia.use\n    .standardConfiguration()\n    .eventAggregator()\n    .feature('resources');\n\n  if (environment.debug) {\n    aurelia.use.developmentLogging();\n  }\n\n  if (environment.testing) {\n    aurelia.use.plugin('aurelia-testing');\n  }\n\n  aurelia.start().then(() => aurelia.setRoot());\n}\n","import {EventAggregator} from 'aurelia-event-aggregator';\nimport \"signature-pad\";\n\nexport class DrawingPad{\n\n  static inject() { return [EventAggregator]; }\n\n  constructor(eventAggregator){\n    this.eventAggregator = eventAggregator;\n  }\n\n  attached(){\n    this.pad = new SignaturePad(this.canvas);\n    this.pad.onEnd = () => {\n      this.drawDone();\n    };\n  }\n\n  clear(){\n    this.pad.clear();\n  }\n\n  drawDone(){\n    this.eventAggregator.publish('drawing-done', this.pad.toDataURL());\n  }\n}","import {autoinject} from 'aurelia-framework';\nimport {EventAggregator} from 'aurelia-event-aggregator';\nimport $ from 'jquery';\nimport toastr from 'toastr';\nimport 'bootstrap-datepicker';\n\nexport class FoodService {\n  static inject() { return [EventAggregator] };\n\n  constructor(eventAggregator){\n    this.eventAggregator = eventAggregator;\n  }\n\n  fetchAll(){\n    var self = this;\n    $.get(\"http://pew-nutrition.azurewebsites.net/v1/nutrition\", function(document){\n      self.eventAggregator.publish('fetch-done', document.data);\n    });\n  }\n\n  fetchOne(id){\n    var self = this;\n    $.get(`http://pew-nutrition.azurewebsites.net/v1/nutrition/${id}`, function(document){\n      self.eventAggregator.publish('fetch-one-done', document.data);\n    });\n  }\n}","import {autoinject} from 'aurelia-framework';\nimport {EventAggregator} from 'aurelia-event-aggregator';\nimport dragula from 'dragula';\nimport $ from 'jquery';\nimport toastr from 'toastr';\nimport 'bootstrap-datepicker';\n\nexport class Dashboard {\n\n  static inject() { return [EventAggregator] };\n\n  constructor(eventAggregator){\n    this.eventAggregator = eventAggregator;\n  }\n\n  attached(){\n    dragula([this.left, this.right]);\n    $(\"input.datepicker\").datepicker();\n    this.subscribe();\n  }\n\n  subscribe(){\n    this.eventAggregator.subscribe('drawing-done', image => {\n      toastr.success(\"drawing done \" + image);\n      this.image = image;\n    });\n  }\n\n  login(){\n  \n    var payload = { \n      \"username\" : this.username,\n      \"password\" : this.password \n    };\n\n    this.eventAggregator.publish('login', payload);\n  }\n}","import {autoinject} from 'aurelia-framework';\nimport {EventAggregator} from 'aurelia-event-aggregator';\nimport $ from 'jquery';\nimport toastr from 'toastr';\nimport 'bootstrap-datepicker';\nimport 'chartist';\nimport {FoodService} from '../core/food-service';\n\nexport class FoodDetails {\n  static inject() { return [EventAggregator, FoodService] };\n\n  constructor(eventAggregator, foodService){\n    this.eventAggregator = eventAggregator;\n    this.foodService = foodService;\n  }\n\n  attached(){\n    this.subscribe();\n  }\n\n  activate(params, routeConfig) {\n    this.foodService.fetchOne(params.id);\n  }\n\n  drawChart(){\n    var data = {\n      // A labels array that can contain any sort of values\n      labels: ['Carbs', 'Fat', 'Fibre', 'Protein', 'Kcal'],\n      // Our series array that contains series objects or in this case series data arrays\n      series: [\n        [this.food.Carbs, this.food.Fat, this.food.Fibre, this.food.Protein, this.food.Kcal]\n      ]\n    };\n\n    // Create a new line chart object where as first parameter we pass in a selector\n    // that is resolving to our chart container element. The Second parameter\n    // is the actual data object.\n    new Chartist.Bar('.ct-chart', data);\n  }\n\n  subscribe(){\n    this.eventAggregator.subscribe('fetch-one-done', food => {\n      this.food = food;\n      this.drawChart();\n    });\n  }\n}","import {autoinject} from 'aurelia-framework';\nimport {EventAggregator} from 'aurelia-event-aggregator';\nimport $ from 'jquery';\nimport toastr from 'toastr';\nimport {FoodService} from '../core/food-service';\n\nexport class FoodList {\n  static inject() { return [EventAggregator, FoodService] };\n\n  constructor(eventAggregator, foodService){\n    this.eventAggregator = eventAggregator;\n    this.foodService = foodService;\n  }\n\n  attached(){\n    this.subscribe();\n    this.foodService.fetchAll();\n  }\n\n  subscribe(){\n    this.eventAggregator.subscribe('fetch-done', list => {\n      toastr.success(\"Food list retrieved\");\n      this.foods = list;\n    });\n  }\n}","export function configure(config) {\n  //config.globalResources([]);\n}\n",null,null,"body { padding-top: 70px; }\n\nsection {\n  margin: 0 20px;\n}\n\na:focus {\n  outline: none;\n}\n\n.navbar-nav li.loader {\n    margin: 12px 24px 0 6px;\n}\n\n.no-selection {\n  margin: 20px;\n}\n\n.contact-list {\n  overflow-y: auto;\n  border: 1px solid #ddd;\n  padding: 10px;\n}\n\n.panel {\n  margin: 20px;\n}\n\n.button-bar {\n  right: 0;\n  left: 0;\n  bottom: 0;\n  border-top: 1px solid #ddd;\n  background: white;\n}\n\n.button-bar > button {\n  float: right;\n  margin: 20px;\n}\n\nli.list-group-item {\n  list-style: none;\n}\n\nli.list-group-item > a {\n  text-decoration: none;\n}\n\nli.list-group-item.active > a {\n  color: white;\n}\n",null,null,null],"sourceRoot":"../src"}